# InkplateDash ‚Äì Tableau de bord e-paper pour Inkplate

InkplateDash est une solution l√©g√®re pour afficher des donn√©es personnalis√©es (m√©t√©o, agenda, consommation √©lectrique, etc.) sur un √©cran e-paper **Inkplate 10** via une image PNG g√©n√©r√©e par script Python.

## ‚ú® Fonctionnalit√©s

- G√©n√©ration d‚Äôune image (`maginkdash.png`) via `Pillow`
- Int√©gration :
  - M√©t√©o (via OpenWeatherMap)
  - Agenda (via ICS en ligne ou local)
  - Anniversaires (configurables)
  - Consommation √©lectrique (via Home Assistant API)
- Affichage sur Inkplate 10 via requ√™te HTTP
- Script compatible avec ex√©cution planifi√©e (cron / sleep Inkplate)

## üì¶ D√©ploiement via Docker

### 1. Pr√©requis

- Docker install√© sur votre syst√®me
- Inkplate connect√© au r√©seau Wi-Fi local

### 2. Configuration

Copiez et √©ditez le fichier `config.example.json` :

```bash
cp config.example.json config.json
nano config.json
```

Ajoutez vos cl√©s API, entit√©s Home Assistant, et pr√©f√©rences d'affichage.

### 3. Lancer avec `docker-compose`

```bash
docker-compose up -d
```

Cela lancera un conteneur qui r√©g√©n√®re `maginkdash.png` √† intervalles r√©guliers ou √† la demande.

### üê≥ Exemple de `docker-compose.yml`

```yaml
version: "3"

services:
  dashboard:
    build: .
    container_name: dashboard
    labels:
      - com.centurylinklabs.watchtower.enable=false
    ports:
      - "25874:8000"
    volumes:
      - /opt/InkplateDash/config:/config:ro  # Monte le fichier de config en lecture seule
    restart: unless-stopped
```


## üñº Affichage sur Inkplate

Le fichier g√©n√©r√© `output/maginkdash.png` est servi via votre reverse proxy (ou directement via IP:port).

Un exemple de fichier Arduino est fourni : [`Inkplate/inkplate.ino`](Inkplate/inkplate.ino)

Ce script :
- Connecte l‚ÄôInkplate au Wi-Fi
- R√©cup√®re l‚Äôimage PNG
- L‚Äôaffiche sur l‚Äô√©cran e-paper
- Envoie une notification Gotify si la batterie est faible
- Met l‚ÄôInkplate en veille pour √©conomiser la batterie

## üìÖ Exemple de config √©nerg√©tique

```json
"energy_entities": [
  ["sensor.cout_hc_journalier", "Co√ªt HC (‚Ç¨)"],
  ["sensor.cout_hp_journalier", "Co√ªt HP (‚Ç¨)"],
  ["sensor.cout_total_journalier", "Co√ªt Total (‚Ç¨)"],
  ["sensor.production_solaire_journaliere", "Solaire (kWh)"],
  ["sensor.cout_production_solaire_journaliere", "Co√ªt Solaire (‚Ç¨)"]
]
```

## üìã Licence

MIT ‚Äì Utilisation libre et modification encourag√©e !

---

Projet r√©alis√© avec ‚ù§Ô∏è pour affichage e-paper √©conome et √©l√©gant.